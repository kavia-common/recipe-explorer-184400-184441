{"is_source_file": true, "format": "TypeScript", "description": "This file contains functions for fetching recipe data from an API, either external or from local API routes, based on environment variables. It defines API fetch logic, URL construction, and exports functions for retrieving a list of recipes or a single recipe by ID.", "external_files": ["./types"], "external_methods": [], "published": ["fetchRecipes", "fetchRecipeById"], "classes": [], "methods": [{"name": "function getApiBase(): string | null { getApiBase", "description": "Determines the base URL for the API, preferring environment variables `NEXT_PUBLIC_API_BASE` and `NEXT_PUBLIC_BACKEND_URL`, or null if none are set.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchRecipes(params: RecipeQuery = {}): Promise<RecipeListResponse> { fetchRecipes", "description": "Fetches a paginated list of recipes, either from an external API if configured or from local API routes, using provided query parameters.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchRecipeById(id: string): Promise<Recipe> { fetchRecipeById", "description": "Fetches a single recipe by its ID, from an external API if configured or from local API routes.", "scope": "", "scopeKind": ""}], "calls": ["fetch"], "search-terms": ["fetchRecipes", "fetchRecipeById", "Recipe", "RecipeListResponse", "RecipeQuery", "getApiBase", "configuration", "API fetch", "environment variables", "TypeScript API functions"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const base =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "external", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const external = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "external", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const external = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "fetchRecipeById", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^export async function fetchRecipeById(id: string): Promise<Recipe> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^export async function fetchRecipes(params: RecipeQuery = {}): Promise<RecipeListResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^function getApiBase(): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const page = params.page ?? 1;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "pageSize", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const pageSize = params.pageSize ?? 12;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const query = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const res = await fetch(url, { cache: \"no-store\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const res = await fetch(url, { cache: \"no-store\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const url = external$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184400-184441/frontend_app/src/lib/data.ts", "pattern": "/^  const url = external$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}], "hash": "bf95fe1417b18f19b66ec8589980e0ea", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/lib/data.ts", "revision_history": [{"29": ""}]}